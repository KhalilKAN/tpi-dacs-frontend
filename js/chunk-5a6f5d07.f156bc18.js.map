{"version":3,"sources":["webpack:///./src/views/NuevoReporte.vue?9bf1","webpack:///./src/views/NuevoReporte.vue","webpack:///./src/views/NuevoReporte.vue?037f"],"names":["class","id","login","label","index","nuevoProducto","crearReporte","name","components","NavBar","Producto","Campo","data","mounted","localStorage","getItem","window","location","methods","this","formulario","document","querySelector","clon","cloneNode","classList","add","remove","appendChild","periodo","mes","value","substring","year","denominacion","querySelectorAll","codigo_ean","precio_unitario","unidad_medida","cantidad_prod","cantidad_vend","lista_registro","i","length","push","postReports","status","$router","render","__scopeId"],"mappings":"kHAAA,W,8JCII,eAEM,OAFDA,MAAM,UAAQ,CACf,eAAsB,UAAlB,mB,MAIEC,GAAG,c,GACAD,MAAM,S,GAINA,MAAM,Y,GAKNA,MAAM,SAASC,GAAG,Y,GAStBD,MAAM,Y,GAGNA,MAAM,Y,0LA9Bf,eAAoB,GAAZE,MAAQ,MAGhB,EAIA,eA0BM,YAzBF,eAkBO,OAlBP,EAkBO,CAjBH,eAEM,MAFN,EAEM,CADF,eAA0C,GAAnCC,MAAQ,UAAUF,GAAK,cAGlC,eAIM,MAJN,EAIM,CAHF,eAEE,GADEG,MAAM,QAGd,eAIM,MAJN,EAIM,CAHF,eAEE,GADGA,MAAM,EAAAA,OAAK,sBAOxB,eAEM,MAFN,EAEM,CADF,eAAqD,UAA5C,QAAK,+BAAE,EAAAC,mBAAiB,iBAErC,eAEM,MAFN,EAEM,CADF,eAA+C,UAAtC,QAAK,+BAAE,EAAAC,kBAAgB,e,2FAS7B,GACXC,KAAM,eACNC,WAAY,CACRC,SAAA,KACAC,WAAA,KACAC,QAAA,MAEJC,KAPW,WAQP,MAAM,CACFR,MAAO,IAIfS,QAbW,WAcJC,aAAaC,QAAQ,WACpBC,OAAOC,SAAW,cAI1BC,QAAO,iCACA,eAAW,CACV,iBAFD,IAIHb,cAJG,WAKCc,KAAKf,QACL,IAAIgB,EAAaC,SAASC,cAAc,eACpCC,EAAOF,SAASC,cAAc,aAClCC,EAAOA,EAAKC,WAAU,GACtBD,EAAKE,UAAUC,IAAI,YACnBH,EAAKE,UAAUE,OAAO,UACtBP,EAAWQ,YAAYL,IAErBjB,aAbH,WAaiB,sLAYhB,IAXMuB,EAAUR,SAASC,cAAc,YACjCQ,EAAMD,EAAQE,MAAMC,UAAU,EAAE,GAChCC,EAAOJ,EAAQE,MAAMC,UAAU,EAAE,GACjCE,EAAeb,SAASc,iBAAiB,+BACzCC,EAAaf,SAASc,iBAAiB,sBACvCE,EAAkBhB,SAASc,iBAAiB,0BAC5CG,EAAgBjB,SAASc,iBAAiB,0BAC1CI,EAAgBlB,SAASc,iBAAiB,4BAC1CK,EAAgBnB,SAASc,iBAAiB,4BAE5CM,EAAiB,GACZC,EAAI,EAAGA,EAAIR,EAAaS,OAAQD,IAC7B,GAALA,GACCD,EAAeG,KAAK,CAChB,aAAsBV,EAAaQ,GAAGX,MACtC,WAAsBK,EAAWM,GAAGX,MACpC,cAAsBM,EAAgBK,GAAGX,MACzC,cAAsBO,EAAcI,GAAGX,MACvC,cAAsBQ,EAAcG,GAAGX,MACvC,cAAsBS,EAAcE,GAAGX,QApBnC,OAyBVnB,EAAO,CACT,YAAgB,CACZ,KAASE,aAAaC,QAAQ,QAC9B,aAAgBD,aAAaC,QAAQ,iBAEzC,cAAiB0B,EACjB,QAAU,CACN,KAAQR,EACR,MAASH,IAjCD,UAqCK,EAAKe,YAAYjC,GArCtB,QAqCVkC,EArCU,OAsCH,KAAVA,GACC,EAAKC,QAAQH,KAAK,aAvCN,kD,UCpE5B,EAAOI,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-5a6f5d07.f156bc18.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NuevoReporte.vue?vue&type=style&index=0&id=47e2b85c&scoped=true&lang=css\"","<template>\n    <NavBar login = 0 />\n    <!-- <h1>Hola loco, como andas hijo de puta?</h1> -->\n\n    <div class=\"titulo\">\n        <h1>Nuevo reporte</h1>\n    </div>\n\n    <div>\n        <form id=\"formulario\">\n            <div class=\"campo\">\n                <Campo label = \"Periodo\" id = \"periodo\" />\n            </div>\n            \n            <div class=\"producto\">\n                <Producto \n                    index=\"1\"\n                />\n            </div>\n            <div class=\"oculto\" id=\"producto\">\n                <Producto \n                    :index=index\n                />\n            </div>\n\n\n\n        </form>\n        <div class=\"producto\">\n            <button @click=\"nuevoProducto()\">+1 Producto</button>\n        </div>\n        <div class=\"producto\">\n            <button @click=\"crearReporte()\">Cargar</button>\n        </div>\n    </div>\n</template>\n<script>\nimport NavBar from  '@/components/NavBar.vue';\nimport Campo from '@/components/Campo.vue';\nimport Producto from '@/components/Producto.vue';\nimport { mapActions } from 'vuex';\nexport default {\n    name: \"NuevoReporte\",\n    components: {\n        NavBar,\n        Producto,\n        Campo\n    },\n    data(){\n        return{\n            index: 2,\n\n        }\n    },\n    mounted(){\n       if(!localStorage.getItem(\"token\")){\n            window.location = \"/ingresar\";\n        }\n\n    },\n    methods:{\n        ...mapActions([\n            \"postReports\"\n        ]),\n        nuevoProducto(){\n            this.index++;\n            var formulario = document.querySelector(\"#formulario\");\n            var clon = document.querySelector(\"#producto\");\n            clon = clon.cloneNode(true);\n            clon.classList.add(\"producto\");\n            clon.classList.remove(\"oculto\");\n            formulario.appendChild(clon);\n        },\n        async crearReporte(){\n            const periodo = document.querySelector(\"#periodo\");\n            const mes = periodo.value.substring(0,2);\n            const year = periodo.value.substring(3,5);\n            const denominacion = document.querySelectorAll(\".class_denominacion > input\");\n            const codigo_ean = document.querySelectorAll(\".class_ean > input\");\n            const precio_unitario = document.querySelectorAll(\".class_pre_uni > input\");\n            const unidad_medida = document.querySelectorAll(\".class_uni_med > input\");\n            const cantidad_prod = document.querySelectorAll(\".class_cant_prod > input\");\n            const cantidad_vend = document.querySelectorAll(\".class_cant_vend > input\");\n\n            var lista_registro = [];\n            for( var i = 0; i < denominacion.length; i++){\n                if(i != 1){ //ignora la segunda posicion ya que es el elemento oculto\n                    lista_registro.push({\n                        \"denominacion\"      : denominacion[i].value,\n                        \"codigo_ean\"        : codigo_ean[i].value,\n                        \"precio_unidad\"     : precio_unitario[i].value,\n                        \"unidad_medida\"     : unidad_medida[i].value,\n                        \"cantidad_prod\"     : cantidad_prod[i].value,\n                        \"cantidad_vend\"     : cantidad_vend[i].value,\n                    });\n                }\n            }\n\n            const data = {\n                \"infoEmpresa\" : {\n                    \"cuit\" : localStorage.getItem(\"cuit\"),\n                    \"razon_social\": localStorage.getItem(\"razon_social\")\n                },\n                \"listaRegistro\": lista_registro,\n                \"periodo\":{\n                    \"year\": year,\n                    \"month\": mes\n                }\n            };\n\n            const status = await this.postReports(data);\n            if(status == 200){\n                this.$router.push(\"/reportes\");\n            }\n        }\n    }\n}\n</script>\n<style scoped>\n    .titulo{\n        margin: 50px 0 ;\n        font-size: 30px;\n    }\n    .campo{\n        margin: 50px 0;\n    }\n    .producto, .campo, .titulo{\n        max-width: 1000px;\n        margin: 50px auto;\n    }\n    .oculto{\n        display: none;\n    }\n    button{\n        background: #1bbb1f;\n        padding: 10px 40px;\n        border-radius: 25px;\n        color: #fff;\n        font-weight: 500;\n        outline: none;\n        transition: .03s;\n        /* margin-bottom: 260px; */\n    }\n\n    button:hover{\n        background: #16d81c;\n    }\n</style>\n","import { render } from \"./NuevoReporte.vue?vue&type=template&id=47e2b85c&scoped=true\"\nimport script from \"./NuevoReporte.vue?vue&type=script&lang=js\"\nexport * from \"./NuevoReporte.vue?vue&type=script&lang=js\"\n\nimport \"./NuevoReporte.vue?vue&type=style&index=0&id=47e2b85c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-47e2b85c\"\n\nexport default script"],"sourceRoot":""}